<!--
Meta Description: # استخدام "this" في TypeScript: فهم السياق والدلالات ## ملخص تعتبر الكلمة المفتاحية "this" في TypeScript من العناصر الأساسية لفهم كيفية عمل البرمجة ال...
Meta Keywords: typescript, إلى, الذي, السياق, كيفية
-->

# استخدام "this" في TypeScript: فهم السياق والدلالات

## ملخص
تعتبر الكلمة المفتاحية "this" في TypeScript من العناصر الأساسية لفهم كيفية عمل البرمجة الكائنية. توفر هذه الكلمة دلالة على الكائن الحالي الذي يتم تنفيذ الكود فيه.

## الوثائق
### الغرض
تستخدم "this" عادةً للإشارة إلى الكائن الذي يتم فيه تنفيذ دالة معينة. في TypeScript، كما في JavaScript، يتغير السياق الذي تشير إليه "this" حسب كيفية استدعاء الدالة.

### الاستخدام
- في الدوال العادية، تشير "this" إلى الكائن الذي تم استدعاء الدالة منه.
- في الدوال السهمية (arrow functions)، لا تتغير قيمة "this" وتشير دائمًا إلى السياق الذي تم فيه تعريف الدالة.
- في الكائنات والصفوف (classes)، تشير "this" إلى الكائن الحالي الذي تم إنشاؤه من الصف.

### التفاصيل
تختلف قيمة "this" باختلاف كيفية استدعاء الدالة:
- **الدوال العادية**: `function myFunc() { console.log(this); }`
- **الدوال السهمية**: `const myFunc = () => { console.log(this); };`
- في الصفوف: 
  ```typescript
  class MyClass {
      myMethod() {
          console.log(this);
      }
  }
  ```

## الأمثلة
### دالة عادية
```typescript
function myFunction() {
    console.log(this);
}

const obj = {
    myFunction: myFunction
};

obj.myFunction(); // تشير إلى obj
```

### دالة سهمية
```typescript
const myObject = {
    myMethod: () => {
        console.log(this);
    }
};

myObject.myMethod(); // تشير إلى السياق العالمي (global)
```

### في الصفوف
```typescript
class Person {
    constructor(public name: string) {}

    greet() {
        console.log('Hello, ' + this.name);
    }
}

const person = new Person('Ali');
person.greet(); // Hello, Ali
```

## الشرح
### الأخطاء الشائعة
- **فقدان السياق**: عند استخدام الدوال العادية كـ callbacks، قد تفقد "this" الإشارة إلى الكائن الذي تم استدعاء الدالة منه. الحل هو استخدام الدوال السهمية أو استخدام `bind`.
- **الاستخدام داخل الكائنات**: إذا تم استدعاء دالة كطريقة من كائن، يجب أن تكون حذرًا من كيفية استدعائها، حيث يمكن أن تتغير قيمة "this".

### ملاحظات إضافية
قد تتسبب بعض أطر العمل أو المكتبات في تغيير كيفية عمل "this"، لذا يُفضل دائمًا قراءة الوثائق الخاصة بها.

## ملخص بجملة واحدة
تعمل "this" في TypeScript على الإشارة إلى السياق الحالي، ويعتمد سلوكها على كيفية استدعاء الدالة.